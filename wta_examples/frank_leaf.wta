a -> p
a -> q
f[p] -> r
f[q] -> r
g[r,r] -> r
final r